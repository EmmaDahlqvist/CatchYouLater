<!doctype html>
<html lang="sv">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="src/assets/fish.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Allmänna Regler – Catch You Later</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/src/frontend/css/style.css" />
    <style>
      /* Ensure the modal is centered and visible */
      .modal {
        display: none; /* Hidden by default */
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 1001; /* Above the overlay */
        border-radius: 8px;
        max-width: 90%;
        width: 400px;
      }

      /* Style for the modal overlay */
      .modal-overlay {
        display: none; /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
        z-index: 1000; /* Below the modal */
      }

      /* Close button styling */
      .modal-close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
      }
    </style>
  </head>
  <body class="general-page">
    <div class="page-layout">
        <div class="navbar">
            <div class="logo">
              <a href="index.html">
                <img src="src/assets/logo.png" alt="logo">
              </a> 
            </div>
          
            <div class="nav-tabs">
              <a href="general.html" class="active">Allmänna Regler</a>
              <a href="index.html">Sök Regler för Fiskart</a>
              <a href="map.html">Karta</a>
              <a href="hidden.html" class="hidden-tab" style="display: none;">Hidden Tab</a> <!-- New hidden tab -->
            </div>
          
            <div class="user-icon"></div>
          </div>
      <div class="main-scroll-area">
        <div class="content-section">
          <h1>Allmänna Fiskeregler
            <button id="info-button" class="info-button" aria-label="Info">
              ?
            </button>
          </h1>
          <div id="general-rules">
            <p>Information om allmänna regler kommer att visas här.</p>
          </div>
        </div>
      </div>
      <div class="fixed-footer">
        <p>Datan är hämtad från Havs- och Vattennyndighetens API</p>
        <p>Hämtad senast <span id="latest-fetch-date">-</span></p>
      </div>
    </div>

    <!-- Modal Panel -->
    <div id="modal-overlay" class="modal-overlay"></div>
    <div id="modal" class="modal">
      <button id="modal-close-btn" class="modal-close-btn" aria-label="Close">&times;</button>
      <h2>Info om allmänna fiskeregler</h2>
      <p>Allmänna fiskeregler gäller vid allt fiske i Sverige, både fritidsfiske och yrkesfiske. Reglerna omfattar alla fiskarter och syftar till att bevara fiskbestånden och främja ett hållbart fiske. Reglerna styr t.ex. återutsättning av fisk som inte håller måttkrav, krav på redskapsutformning och förbjudet fiske av hotade arter.
        Läs mer hos Havs- och vattenmyndigheten för fullständig information.</p>
    </div>

    <script type="module" src="/src/backend/main.ts"></script>
    <script>
      const infoButton = document.getElementById('info-button');
      const modal = document.getElementById('modal');
      const modalOverlay = document.getElementById('modal-overlay');
      const modalCloseBtn = document.getElementById('modal-close-btn');

      // Show modal
      infoButton.addEventListener('click', () => {
        modal.style.display = 'block';
        modalOverlay.style.display = 'block';
      });

      // Hide modal
      modalCloseBtn.addEventListener('click', () => {
        modal.style.display = 'none';
        modalOverlay.style.display = 'none';
      });

      // Hide modal when clicking outside of it
      modalOverlay.addEventListener('click', () => {
        modal.style.display = 'none';
        modalOverlay.style.display = 'none';
      });
    </script>
  </body>
</html>
